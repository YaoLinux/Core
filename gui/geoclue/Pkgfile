makedepends=(libsoup dbus-glib gconf libxslt )

description="Modular geoinformation service built on the D-Bus messaging system."
url="https://launchpad.net/geoclue/"

packager="Yaolinux Team"
maintainer="rems"

name=geoclue
version=2.5.6

source=(https://gitlab.freedesktop.org/geoclue/geoclue/-/archive/$version/geoclue-$version.tar.bz2)

build() {

mkdir build && cd build

meson --prefix=/usr \
      -Dgtk-doc=false \
      ../$name-$version

ninja

DESTDIR=$PKG ninja install

# In conflicts
rm $PKG/usr/share/gtk-doc/html/geoclue/home.png                                                                              
rm $PKG/usr/share/gtk-doc/html/geoclue/index.html                                                                            
rm $PKG/usr/share/gtk-doc/html/geoclue/left.png                                                                              
rm $PKG/usr/share/gtk-doc/html/geoclue/right.png                                                                             
rm $PKG/usr/share/gtk-doc/html/geoclue/style.css                                                                             
rm $PKG/usr/share/gtk-doc/html/geoclue/up.png                                                                                
}
