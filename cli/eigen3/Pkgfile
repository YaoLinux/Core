makedepends=(cmake)

packager="Yaolinux Team"
maintainer="sipo"

description="Lightweight C++ template library for vector and matrix math, a.k.a. linear algebra."
url="http://eigen.tuxfamily.org"

name=eigen3
version=3.3.7

source=(http://bitbucket.org/eigen/eigen/get/$version.tar.bz2)

prepare(){

  mkdir -p build
}

build() {

	cd build
	cmake ../eigen-eigen-* \
		-DCMAKE_INSTALL_PREFIX=/usr \
                -DCMAKE_INSTALL_LIBDIR=lib
}

package() {

	cd build
	make DESTDIR="$PKG" install

	# install custom licenses
	install -Dm644 ../eigen-eigen-*/COPYING.MPL2 "$PKG/usr/share/licenses/$name/LICENSE"
    install -Dm644 ../eigen-eigen-*/COPYING.BSD "$PKG/usr/share/licenses/$name/LICENSE"
    install -Dm644 ../eigen-eigen-*/COPYING.MINPACK "$PKG/usr/share/licenses/$name/LICENSE"
}
