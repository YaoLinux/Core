makdepends=(rpcsvc-proto libtirpc)

description="Contains the public client interface for NIS(YP) and NIS+."
name=libnsl

packager="Yaolinux Team"
maintainer="rems"

version=1.2.0

PKGMK_KEEP_SOURCES="no"

source=(https://github.com/thkukuk/libnsl/archive/v$version.tar.gz)

build() {

cd $name-$version

./autogen.sh

./configure --prefix=/usr \
            --sysconfdir=/etc \
            --disable-static

make
make DESTDIR=$PKG install

mkdir $PKG/lib
mv $PKG/usr/lib/libnsl.so.2* $PKG/lib
ln -sfv ../../lib/libnsl.so.2.0.0 $PKG/usr/lib/libnsl.so

# Obsolet lib
rm $PKG/usr/lib/libnsl.la
}
