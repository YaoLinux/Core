makedepends=(wget python llvm)

packager="Yaolinux Team"
maintainer="sipo"

description="Security-oriented fuzzer using compile-time instrumentation and genetic algorithms"
url="http://lcamtuf.coredump.cx/afl/"

name=afl
version=2.54b

source=(http://lcamtuf.coredump.cx/afl/releases/$name-$version.tgz)

build(){
  cd ${name}-${version}
  make PREFIX=/usr
  make -C llvm_mode PREFIX=/usr
}

package() {
  cd ${name}-${version}
  make PREFIX=/usr DESTDIR="${PKG}" install
  install -Dm 644 llvm_mode/README.llvm -t "${PKG}/usr/share/doc/${name}"
}
