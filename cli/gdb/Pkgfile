makedepends=(python)

packager="Yaolinux Team"
maintainer="rems"

description="The GNU Project debugger, allows you to see what is going on “inside” another program while it executes."
url="http://www.sourceware.org/gdb/"

name=gdb
version=8.3.1
release=2

source=(https://ftp.gnu.org/gnu/gdb/$name-$version.tar.xz)

build() {

	cd $name-$version
	./configure --prefix=/usr \
	            --with-system-readline \
		    --with-python=$(which python3)
	
	make
}

package() {

	cd $name-$version
	make -C gdb DESTDIR=$PKG install

# Most of the locale are allready present from binutils, beter get rid of all of them
	rm -r $PKG/usr/share/locale
	
	for file in diagnostics.h ansidecl.h bfd.h bfd_stdint.h bfdlink.h dis-asm.h plugin-api.h symcat.h
	rm -v $PKG/usr/include/$file
}
